@namespace iPath.Blazor.Componenents.ServiceRequests
@inject ServiceRequestViewModel vm

<MudExpansionPanels>
    <MudExpansionPanel>
        <TitleContent >
            <strong>@QName (@T["automatically generated text"])</strong>
            <div>@Model.Questionnaire.GeneratedText</div>
        </TitleContent>
        <ChildContent>
            <QuestionnaireResponseView Data="Model.Questionnaire" />
        </ChildContent>
    </MudExpansionPanel>
</MudExpansionPanels>

@code {
    [Parameter]
    public RequestDescription Model { get; set; }

    string QName;

    protected override async Task OnInitializedAsync()
    {
        QName = await @vm.QuestionnaireName(Model?.Questionnaire?.QuestionnaireId, Model?.Questionnaire?.Version);
        QName ??= "generated text";
    }
}
